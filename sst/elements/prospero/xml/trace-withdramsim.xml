<?xml version="1.0"?>
<sdl version="2.0"/>
<timebase>1ns</timebase>

<config>
 stopAtCycle=1000000ns
</config>

<variables>
	<lat> 1ns </lat>
        <buslat> 50 ps </buslat>
</variables>


<sst>
    <component name="cpu" type="prospero.prospero" rank=0>
        <params>
            <outputlevel>0</outputlevel>
            <tracetype>file</tracetype>
            <trace> traces/pinatrace.out </trace>
            <cache_line> 64 </cache_line>
            <physlimit> 512 </physlimit>
        </params>
        <link name=cpu_cache_link port=cache_link latency=$lat />
    </component>
    
    <component name="l1cache" type="memHierarchy.Cache">
        <params>
            <cache_frequency> 2 Ghz  </cache_frequency>
            <cache_size> 64 KB </cache_size>
            <coherence_protocol> MSI </coherence_protocol>
            <replacement_policy> lru </replacement_policy> 
            <associativity> 8 </associativity>
            <access_latency_cycles> 1  </access_latency_cycles>
            <low_network_links> 1 </low_network_links>
            <cache_line_size> 64 </cache_line_size>
            <L1> 1 </L1>
            <statistics> 1 </statistics>
        </params>
        <link name=cpu_cache_link port=high_network_0 latency=$lat />
        <link name=mem_bus_link port=low_network_0 latency=$buslat />
    </component>

	<component name="memory" type="memHierarchy.MemController" rank=1>
		<params>
            <coherence_protocol> MSI </coherence_protocol>
            <access_time> 1000 ns </access_time>
			<mem_size> 512 </mem_size>
			<clock> 1GHz </clock>
			<backend> memHierarchy.dramsim </backend>
			<device_ini> DDR3_micron_32M_8B_x4_sg125.ini </device_ini>
			<system_ini> system.ini </system_ini>
		</params>
		<link name=mem_bus_link port=direct_link latency=$buslat />
	</component>

</sst>
